/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import {
  ReferenceChunk,
  ReferenceChunk$Outbound,
  ReferenceChunk$outboundSchema,
} from "./referencechunk.js";
import {
  TextChunk,
  TextChunk$Outbound,
  TextChunk$outboundSchema,
} from "./textchunk.js";

export type Thinking = TextChunk | ReferenceChunk;

export type ThinkChunk = {
  thinking: Array<TextChunk | ReferenceChunk>;
  /**
   * Whether the thinking chunk is closed or not. Currently only used for prefixing.
   */
  closed?: boolean | undefined;
  type: "thinking";
};

/** @internal */
export type Thinking$Outbound = TextChunk$Outbound | ReferenceChunk$Outbound;

/** @internal */
export const Thinking$outboundSchema: z.ZodType<
  Thinking$Outbound,
  z.ZodTypeDef,
  Thinking
> = z.union([TextChunk$outboundSchema, ReferenceChunk$outboundSchema]);

export function thinkingToJSON(thinking: Thinking): string {
  return JSON.stringify(Thinking$outboundSchema.parse(thinking));
}

/** @internal */
export type ThinkChunk$Outbound = {
  thinking: Array<TextChunk$Outbound | ReferenceChunk$Outbound>;
  closed?: boolean | undefined;
  type: "thinking";
};

/** @internal */
export const ThinkChunk$outboundSchema: z.ZodType<
  ThinkChunk$Outbound,
  z.ZodTypeDef,
  ThinkChunk
> = z.object({
  thinking: z.array(
    z.union([TextChunk$outboundSchema, ReferenceChunk$outboundSchema]),
  ),
  closed: z.boolean().optional(),
  type: z.literal("thinking"),
});

export function thinkChunkToJSON(thinkChunk: ThinkChunk): string {
  return JSON.stringify(ThinkChunk$outboundSchema.parse(thinkChunk));
}
